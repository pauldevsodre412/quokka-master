{% extends "base.html" %}

{% block content %}
<div class="follow">
    <ul>
        <li {% if not show_followed %}class="active"{% endif %}><a href="{{ url_for('show_follower',nickname=user.nickname) }}">关注者</a></li>
        {% if current_user.is_authenticated %}
        <li {% if show_followed %}class="active"{% endif %}><a href="{{ url_for('show_followed',nickname=user.nickname) }}">关注了</a></li>
        {% endif %}
    </ul>
    {% for follow in follows %}
    <ul>
        <li>
            <a href="{{ url_for('user',nickname=user.nickname) }}">{{ follow.user }}</a>
            ------{{ follow.timestamp }}
            {% if current_user.operation(Permission.FOLLOW) and user != current_user %}
                {% if not current_user.is_following(user) %}
                <a href="{{ url_for('follow', nickname=user.nickname) }}">关注</a>
                {% else %}
                <a href="{{ url_for('unfollow', nickname=user.nickname) }}">取消关注</a>
                {% endif %}
            {% endif %}
        </li>
    </ul>
    {% endfor %}
</div>
{% if pagination %}
<div>
    {% if follows.has_prev %}<a href="{{ url_for('index', page = follows.prev_num) }}"><<< 上一页</a>{% else %}<<< 上一页{% endif %} |
    {% if follows.has_next %}<a href="{{ url_for('index', page = follows.next_num) }}">下一页 >>></a>{% else %}下一页 >>>{% endif %}
</div>
{% endif %}
{% endblock %}